<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=0.5">
        <link href="/styles/main.css" rel="stylesheet" type="text/css">
        <title>用C#写一个WebSocket服务器</title>
    </head>
    <body>
        <div class="inner">
            <h2>用C#写一个WebSocket服务器</h2>
            <p>如果你想使用WebSocket API，有一个WebSocket协议提供了HTTP 1.1协议的扩展，用于在客户端和服务器端之间建立持久的双向通信。</p>
            <p>WebSocket协议可以总结如下:</p>
            <ol>
                <li>为了在客户端和服务器端之间建立通信通道，客户端需要向服务器发送HTTP升级请求。这称为WebSocket协议握手。</li>
                <li>如果服务器能够并且愿意升级连接，它会向请求客户端发送HTTP 101响应。此时握手被认为是成功的，服务器和客户端之间的连接被升级到WebSocket协议。<strong>注意：一旦客户端收到HTTP 101响应，连接就不再被视为HTTP连接。</strong></li>
                <li>消息现在可以通过WebSocket连接在服务器和客户端之间双向流动。</li>
                <li>数据交换中的任何参与者都可以通过向另一参与者发送关闭请求来终止WebSocket连接。</li>
            </ol>
        </div>
        
        <script>
            if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent))
            {
                document.body.classList.add('mobile');
            }
        </script>
    </body>
</html>